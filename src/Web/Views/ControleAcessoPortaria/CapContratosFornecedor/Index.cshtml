@model RhSensoERP.Web.Models.ControleAcessoPortaria.CapContratosFornecedor.CapContratosFornecedorListViewModel
@{
    ViewData["Title"] = Model.PageTitle;
    Layout = "_CrudLayout";
    ViewData["EntityName"] = "CapContratosFornecedor";
    ViewData["IconClass"] = "fas fa-table";
}

@* ============================================================================
   Permissões injetadas para JavaScript (ANTES do script específico)
   ============================================================================ *@
<script>
    window.crudPermissions = {
        canCreate: @Model.CanCreate.ToString().ToLower(),
        canEdit: @Model.CanEdit.ToString().ToLower(),
        canDelete: @Model.CanDelete.ToString().ToLower(),
        canView: @Model.CanView.ToString().ToLower(),
        actions: "@Model.UserPermissions"
    };
</script>

@* ============================================================================
   Tabela usando partial _CrudTable (toolbar + datatable)
   ============================================================================ *@
@await Html.PartialAsync("_CrudTable", Model)

@* ============================================================================
   Conteúdo do Modal (apenas campos do formulário)
   O wrapper do modal está no _CrudLayout
   ============================================================================ *@
@section ModalContent {
    <input type="hidden" id="Id" name="Id" />
    <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="TenantId" class="form-label">
                        Tenant ID <span class="text-danger">*</span>
                    </label>
                    <input type="text" class="form-control" id="TenantId" name="TenantId" 
                           placeholder="" required  />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="IdFornecedor" class="form-label">
                        IdFornecedor <span class="text-danger">*</span>
                    </label>
                    <input type="number" class="form-control" id="IdFornecedor" name="IdFornecedor" 
                           placeholder="" required  />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="NumeroContrato" class="form-label">
                        NumeroContrato
                    </label>
                    <input type="text" class="form-control" id="NumeroContrato" name="NumeroContrato" 
                           placeholder=""   maxlength="100" />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="DataInicio" class="form-label">
                        DataInicio <span class="text-danger">*</span>
                    </label>
                    <input type="datetime-local" class="form-control" id="DataInicio" name="DataInicio" 
                           placeholder="" required  />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="DataFim" class="form-label">
                        DataFim
                    </label>
                    <input type="datetime-local" class="form-control" id="DataFim" name="DataFim" 
                           placeholder=""   />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="Valor" class="form-label">
                        Valor
                    </label>
                    <input type="number" class="form-control" id="Valor" name="Valor" 
                           placeholder=""   step="0.01" />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="Descricao" class="form-label">
                        Descrição
                    </label>
                    <input type="text" class="form-control" id="Descricao" name="Descricao" 
                           placeholder=""   maxlength="500" />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="Status" class="form-label">
                        Status
                    </label>
                    <input type="text" class="form-control" id="Status" name="Status" 
                           placeholder=""   maxlength="50" />
                </div>
                <div class="col-md-6 mb-3">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="Ativo" name="Ativo"  />
                        <label class="form-check-label" for="Ativo">Ativo</label>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="CreatedAtUtc" class="form-label">
                        Data Criação (UTC) <span class="text-danger">*</span>
                    </label>
                    <input type="datetime-local" class="form-control" id="CreatedAtUtc" name="CreatedAtUtc" 
                           placeholder="" required  />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="CreatedByUserId" class="form-label">
                        Criado Por
                    </label>
                    <input type="text" class="form-control" id="CreatedByUserId" name="CreatedByUserId" 
                           placeholder=""   />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="UpdatedAtUtc" class="form-label">
                        Data Atualização (UTC) <span class="text-danger">*</span>
                    </label>
                    <input type="datetime-local" class="form-control" id="UpdatedAtUtc" name="UpdatedAtUtc" 
                           placeholder="" required  />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="UpdatedByUserId" class="form-label">
                        Atualizado Por
                    </label>
                    <input type="text" class="form-control" id="UpdatedByUserId" name="UpdatedByUserId" 
                           placeholder=""   />
                </div>
    </div>

}

@* ============================================================================
   Script específico da entidade
   ============================================================================ *@
@section PageScripts {
    <script src="~/js/controleacessoportaria/capcontratosfornecedor/capcontratosfornecedor.js" asp-append-version="true"></script>
}
